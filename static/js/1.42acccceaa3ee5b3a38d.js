webpackJsonp([1,4],{11:function(e,t,n){var o,s;n(28),o=n(45);var a=n(36);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(s=o=o.default),"function"==typeof s&&(s=s.options),"undefined"==typeof s.name&&(s.name="login"),s.render=a.render,s.staticRenderFns=a.staticRenderFns,s._scopeId="data-v-fbedb98e",e.exports=o},21:function(e,t,n){t=e.exports=n(2)(),t.push([e.id,".content[data-v-fbedb98e]{padding:180px 10px 20px}","",{version:3,sources:["/./src/views/login.vue"],names:[],mappings:"AACA,0BACC,uBAAwB,CACxB",file:"login.vue",sourcesContent:["\n.content[data-v-fbedb98e]{\n\tpadding:180px 10px 20px;\n}\n\n"],sourceRoot:"webpack://"}])},28:function(e,t,n){var o=n(21);"string"==typeof o&&(o=[[e.id,o,""]]);n(3)(o,{});o.locals&&(e.exports=o.locals)},36:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("mu-appbar",{attrs:{title:"登陆"}}),e._v(" "),n("div",{staticClass:"content"},[n("mu-text-field",{directives:[{name:"model",rawName:"v-model",value:e.accesstoken,expression:"accesstoken"}],attrs:{label:"Access Token",errorText:e.errorText,fullWidth:"",labelFloat:""},domProps:{value:e.accesstoken},on:{input:[function(t){e.accesstoken=t},e.setErrorText]}}),e._v(" "),n("mu-raised-button",{attrs:{label:"确认",disabled:e.disabled,fullWidth:"",primary:""},on:{click:e.login}}),e._v(" "),n("mu-dialog",{attrs:{open:e.dialog,title:"提示"}},[e._v("\n\t\t\t    "+e._s(e.alert)+"\n\t\t\t    "),n("mu-flat-button",{attrs:{label:"确定",primary:""},on:{click:e.close},slot:"actions"})],1)],1)],1)},staticRenderFns:[]}},45:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),a=o(s),r=n(1),i=o(r);t.default={name:"login",components:{},filters:{},data:function(){return{accesstoken:"",dialog:!1,alert:"",errorText:"",disabled:!0}},mounted:function(){},methods:{login:function(){var e=this;i.default.ajax({type:"POST",url:"https://cnodejs.org/api/v1/accesstoken",data:{accesstoken:this.accesstoken},dataType:"json",success:function(t){console.log(t);var n={loginname:t.loginname,avatar_url:t.avatar_url,userId:t.id,token:e.accesstoken};window.window.sessionStorage.user=(0,a.default)(n),e.$store.dispatch("setUserInfo",n);var o=decodeURIComponent(e.$route.query.redirect||"/");e.$router.push({path:o})},error:function t(n){var t=JSON.parse(n.responseText);e.alert=t.error_msg,e.dialog=!0}})},close:function(){this.dialog=!1},setErrorText:function(){36==this.accesstoken.length?(this.errorText="",this.disabled=!1):this.errorText="Access Token应为36位的字符串！"}},watch:{}}}});
//# sourceMappingURL=1.42acccceaa3ee5b3a38d.js.map