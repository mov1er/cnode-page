{"version":3,"sources":["webpack:///static/js/1.42acccceaa3ee5b3a38d.js","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?387b","webpack:///./src/views/login.vue?4c97","webpack:///./src/views/login.vue?caf3","webpack:///login.vue"],"names":["webpackJsonp","11","module","exports","__webpack_require__","__vue_exports__","__vue_options__","__vue_template__","default","options","name","render","staticRenderFns","_scopeId","21","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","28","content","locals","36","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","_v","directives","rawName","value","expression","label","errorText","fullWidth","labelFloat","domProps","on","input","$event","accesstoken","setErrorText","disabled","primary","click","login","open","dialog","_s","alert","close","slot","45","_interopRequireDefault","obj","__esModule","Object","defineProperty","_stringify","_stringify2","_webpackZepto","_webpackZepto2","components","filters","data","mounted","methods","_this","ajax","type","url","dataType","success","res","console","log","user","loginname","avatar_url","userId","token","window","sessionStorage","$store","dispatch","redirect","decodeURIComponent","$route","query","$router","path","error","JSON","parse","responseText","error_msg","length","watch"],"mappings":"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","file":"static/js/1.42acccceaa3ee5b3a38d.js","sourcesContent":["webpackJsonp([1,4],{\n\n/***/ 11:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(28)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(45)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(36)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\tif(typeof __vue_options__.name === \"undefined\") {\n\t  __vue_options__.name = \"login\"\n\t}__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-fbedb98e\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 21:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(2)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".content[data-v-fbedb98e]{padding:180px 10px 20px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/login.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,uBAAwB,CACxB\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.content[data-v-fbedb98e]{\\n\\tpadding:180px 10px 20px;\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(21);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(3)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 36:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"login\"\n\t  }, [_c('mu-appbar', {\n\t    attrs: {\n\t      \"title\": \"登陆\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('mu-text-field', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.accesstoken),\n\t      expression: \"accesstoken\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"Access Token\",\n\t      \"errorText\": _vm.errorText,\n\t      \"fullWidth\": \"\",\n\t      \"labelFloat\": \"\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.accesstoken)\n\t    },\n\t    on: {\n\t      \"input\": [function($event) {\n\t        _vm.accesstoken = $event\n\t      }, _vm.setErrorText]\n\t    }\n\t  }), _vm._v(\" \"), _c('mu-raised-button', {\n\t    attrs: {\n\t      \"label\": \"确认\",\n\t      \"disabled\": _vm.disabled,\n\t      \"fullWidth\": \"\",\n\t      \"primary\": \"\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.login\n\t    }\n\t  }), _vm._v(\" \"), _c('mu-dialog', {\n\t    attrs: {\n\t      \"open\": _vm.dialog,\n\t      \"title\": \"提示\"\n\t    }\n\t  }, [_vm._v(\"\\n\\t\\t\\t    \" + _vm._s(_vm.alert) + \"\\n\\t\\t\\t    \"), _c('mu-flat-button', {\n\t    attrs: {\n\t      \"label\": \"确定\",\n\t      \"primary\": \"\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.close\n\t    },\n\t    slot: \"actions\"\n\t  })], 1)], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 45:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(14);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _webpackZepto = __webpack_require__(1);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tname: 'login',\n\t\tcomponents: {},\n\t\tfilters: {},\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\taccesstoken: \"\",\n\t\t\t\tdialog: false,\n\t\t\t\talert: \"\",\n\t\t\t\terrorText: \"\",\n\t\t\t\tdisabled: true\n\t\t\t};\n\t\t},\n\t\tmounted: function mounted() {},\n\t\n\t\tmethods: {\n\t\t\tlogin: function login() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\t_webpackZepto2.default.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: \"https://cnodejs.org/api/v1/accesstoken\",\n\t\t\t\t\tdata: { accesstoken: this.accesstoken },\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\n\t\t\t\t\t\tvar user = {\n\t\t\t\t\t\t\tloginname: res.loginname,\n\t\t\t\t\t\t\tavatar_url: res.avatar_url,\n\t\t\t\t\t\t\tuserId: res.id,\n\t\t\t\t\t\t\ttoken: _this.accesstoken\n\t\t\t\t\t\t};\n\t\t\t\t\t\twindow.window.sessionStorage.user = (0, _stringify2.default)(user);\n\t\n\t\t\t\t\t\t_this.$store.dispatch('setUserInfo', user);\n\t\n\t\t\t\t\t\tvar redirect = decodeURIComponent(_this.$route.query.redirect || '/');\n\t\t\t\t\t\t_this.$router.push({\n\t\t\t\t\t\t\tpath: redirect\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\terror: function error(res) {\n\t\t\t\t\t\tvar error = JSON.parse(res.responseText);\n\t\t\t\t\t\t_this.alert = error.error_msg;\n\t\t\t\t\t\t_this.dialog = true;\n\t\t\t\t\t}\n\t\n\t\t\t\t});\n\t\t\t},\n\t\t\tclose: function close() {\n\t\t\t\tthis.dialog = false;\n\t\t\t},\n\t\t\tsetErrorText: function setErrorText() {\n\t\t\t\tif (this.accesstoken.length == 36) {\n\t\t\t\t\tthis.errorText = \"\";\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.errorText = \"Access Token应为36位的字符串！\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\twatch: {}\n\t};\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.42acccceaa3ee5b3a38d.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-fbedb98e&scoped=true!vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./login.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-fbedb98e!vue-loader/lib/selector?type=template&index=0!./login.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\nif(typeof __vue_options__.name === \"undefined\") {\n  __vue_options__.name = \"login\"\n}__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-fbedb98e\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = 11\n// module chunks = 1","exports = module.exports = require(\"./../../node_modules/.0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content[data-v-fbedb98e]{padding:180px 10px 20px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/login.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,uBAAwB,CACxB\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.content[data-v-fbedb98e]{\\n\\tpadding:180px 10px 20px;\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.25.0@css-loader?sourceMap!./~/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./~/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login.vue\n// module id = 21\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.25.0@css-loader?sourceMap!./~/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./~/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login.vue\n// module id = 28\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login\"\n  }, [_c('mu-appbar', {\n    attrs: {\n      \"title\": \"登陆\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('mu-text-field', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.accesstoken),\n      expression: \"accesstoken\"\n    }],\n    attrs: {\n      \"label\": \"Access Token\",\n      \"errorText\": _vm.errorText,\n      \"fullWidth\": \"\",\n      \"labelFloat\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.accesstoken)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.accesstoken = $event\n      }, _vm.setErrorText]\n    }\n  }), _vm._v(\" \"), _c('mu-raised-button', {\n    attrs: {\n      \"label\": \"确认\",\n      \"disabled\": _vm.disabled,\n      \"fullWidth\": \"\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }), _vm._v(\" \"), _c('mu-dialog', {\n    attrs: {\n      \"open\": _vm.dialog,\n      \"title\": \"提示\"\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t    \" + _vm._s(_vm.alert) + \"\\n\\t\\t\\t    \"), _c('mu-flat-button', {\n    attrs: {\n      \"label\": \"确定\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.close\n    },\n    slot: \"actions\"\n  })], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.0.3@vue-loader/lib/template-compiler.js?id=data-v-fbedb98e!./~/.10.0.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = 36\n// module chunks = 1","<template>\r\n  \t<div class=\"login\">\r\n\t\t<mu-appbar title=\"登陆\" >\r\n\t    </mu-appbar>\r\n\t    <div class=\"content\">\r\n\t    \t<mu-text-field label=\"Access Token\" v-model=\"accesstoken\" :errorText=\"errorText\" @input=\"setErrorText\" fullWidth labelFloat/>\r\n\t    \t<mu-raised-button label=\"确认\" @click=\"login\" :disabled=\"disabled\" fullWidth primary/>\r\n\t    \t<mu-dialog :open=\"dialog\" title=\"提示\">\r\n\t\t\t    {{alert}}\r\n\t\t\t    <mu-flat-button label=\"确定\" slot=\"actions\" primary @click=\"close\"/>\r\n\t\t\t</mu-dialog>\r\n\t    </div>\r\n  \t</div>\r\n</template>\r\n\r\n<script>\r\n\timport $ from 'webpack-zepto';\r\n  \texport default {\r\n    \tname: 'login',\r\n    \tcomponents: {\r\n    \t},\r\n    \tfilters :{\r\n    \t\t\r\n    \t},\r\n    \tdata () {\r\n\t      \treturn {\r\n\t      \t\taccesstoken:\"\",\r\n\t      \t\tdialog: false,\r\n\t      \t\talert:\"\",\r\n\t      \t\terrorText:\"\",\r\n\t      \t\tdisabled:true\r\n\t      \t}\r\n    \t},\r\n\t    mounted () {\r\n\t      \t\r\n\t    },\r\n\t    methods:{\r\n\t    \tlogin(){\r\n\t    \t\t$.ajax({\r\n\t    \t\t\ttype:\"POST\",\r\n\t    \t\t\turl:\"https://cnodejs.org/api/v1/accesstoken\",\r\n\t    \t\t\tdata:{accesstoken:this.accesstoken},//7ac36cd7-b5c7-4faf-94c6-64076881910e\r\n\t    \t\t\tdataType: 'json',\r\n\t    \t\t\tsuccess:(res)=>{\r\n\t    \t\t\t\tconsole.log(res)\r\n\t    \t\t\t\t//将登陆信息存储在sessionStorage\r\n\t    \t\t\t\tlet user={\r\n\t    \t\t\t\t\tloginname: res.loginname,\r\n                            avatar_url: res.avatar_url,\r\n                            userId: res.id,\r\n                            token: this.accesstoken\r\n\t    \t\t\t\t};\r\n\t    \t\t\t\twindow.window.sessionStorage.user = JSON.stringify(user);\r\n\t    \t\t\t\t//vuex管理状态\r\n\t    \t\t\t\tthis.$store.dispatch('setUserInfo',user);\r\n\t    \t\t\t\t//重定向\r\n\t    \t\t\t\tlet redirect = decodeURIComponent(this.$route.query.redirect || '/');\r\n                        this.$router.push({\r\n                            path: redirect\r\n                        });\r\n\t    \t\t\t},\r\n\t    \t\t\terror:(res)=>{\r\n\t    \t\t\t\tlet error=JSON.parse(res.responseText);\r\n\t    \t\t\t\tthis.alert=error.error_msg;\r\n\t    \t\t\t\tthis.dialog = true;\r\n\t    \t\t\t}\r\n\t\t          \t\r\n\t        \t})\r\n\t    \t},\r\n\t    \tclose(){\r\n\t    \t\tthis.dialog = false;\r\n\t    \t},\r\n\t    \tsetErrorText(){\r\n\t    \t\tif(this.accesstoken.length==36){\r\n\t    \t\t\tthis.errorText=\"\";\r\n\t    \t\t\tthis.disabled=false;\r\n\t    \t\t}else{\r\n\t    \t\t\tthis.errorText=\"Access Token应为36位的字符串！\"\r\n\t    \t\t}\r\n\t    \t}\r\n\t    },\r\n\t    watch:{\r\n\t    \t\r\n\t    }\r\n  \t}\r\n</script>\r\n\r\n<style scoped lang=\"\">\r\n\t.content{\r\n\t\tpadding:180px 10px 20px;\r\n\t}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// login.vue?33db6b4f"],"sourceRoot":""}