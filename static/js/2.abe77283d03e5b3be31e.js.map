{"version":3,"sources":["webpack:///static/js/2.abe77283d03e5b3be31e.js","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?387b","webpack:///./src/views/login.vue?4c97","webpack:///./src/views/login.vue?caf3","webpack:///login.vue"],"names":["webpackJsonp","14","module","exports","__webpack_require__","__vue_exports__","__vue_options__","__vue_template__","default","options","name","render","staticRenderFns","_scopeId","27","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","38","content","locals","49","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","_v","directives","rawName","value","expression","label","errorText","fullWidth","labelFloat","domProps","on","input","$event","accesstoken","setErrorText","disabled","primary","click","login","open","dialog","_s","alert","close","slot","size","_e","message","successTxt","61","_interopRequireDefault","obj","__esModule","Object","defineProperty","_stringify","_stringify2","_webpackZepto","_webpackZepto2","components","filters","data","success","toast","mounted","methods","_this","ajax","type","url","dataType","res","user","loginname","avatar_url","userId","token","info","get","d","hasnot_read_messages","length","toastTimer","clearTimeout","setTimeout","window","sessionStorage","$store","dispatch","redirect","decodeURIComponent","$route","query","$router","path","error","JSON","parse","responseText","error_msg","watch"],"mappings":"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","file":"static/js/2.abe77283d03e5b3be31e.js","sourcesContent":["webpackJsonp([2,7],{\n\n/***/ 14:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(38)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(61)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(49)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\tif(typeof __vue_options__.name === \"undefined\") {\n\t  __vue_options__.name = \"login\"\n\t}__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-fbedb98e\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(2)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".content[data-v-fbedb98e]{padding:180px 10px 20px}.login .loading[data-v-fbedb98e]{width:100vw;height:100vh;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;background:rgba(0,0,0,.2)}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/login.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,uBAAwB,CACxB,AACD,iCACC,YAAa,AACb,aAAc,AACZ,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,yBAA0B,CAC5B\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.content[data-v-fbedb98e]{\\n\\tpadding:180px 10px 20px;\\n}\\n.login .loading[data-v-fbedb98e]{\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n  \\tdisplay: -ms-flexbox;\\n  \\tdisplay: flex;\\n  \\t-ms-flex-pack: center;\\n  \\t    justify-content: center;\\n  \\t-ms-flex-align: center;\\n  \\t    align-items: center;\\n  \\tposition: absolute;\\n  \\ttop: 0;\\n  \\tleft: 0;\\n  \\tbackground: rgba(0,0,0,.2)\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 38:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(27);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(3)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"login\"\n\t  }, [_c('mu-appbar', {\n\t    attrs: {\n\t      \"title\": \"登陆\"\n\t    }\n\t  }), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"content\"\n\t  }, [_c('div', {\n\t    staticClass: \"model\"\n\t  }, [_c('mu-text-field', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.accesstoken),\n\t      expression: \"accesstoken\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"Access Token\",\n\t      \"errorText\": _vm.errorText,\n\t      \"fullWidth\": \"\",\n\t      \"labelFloat\": \"\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.accesstoken)\n\t    },\n\t    on: {\n\t      \"input\": [function($event) {\n\t        _vm.accesstoken = $event\n\t      }, _vm.setErrorText]\n\t    }\n\t  }), _vm._v(\" \"), _c('mu-raised-button', {\n\t    attrs: {\n\t      \"label\": \"确认\",\n\t      \"disabled\": _vm.disabled,\n\t      \"fullWidth\": \"\",\n\t      \"primary\": \"\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.login\n\t    }\n\t  }), _vm._v(\" \"), _c('mu-dialog', {\n\t    attrs: {\n\t      \"open\": _vm.dialog,\n\t      \"title\": \"提示\"\n\t    }\n\t  }, [_vm._v(\"\\n\\t\\t\\t\\t    \" + _vm._s(_vm.alert) + \"\\n\\t\\t\\t\\t    \"), _c('mu-flat-button', {\n\t    attrs: {\n\t      \"label\": \"确定\",\n\t      \"primary\": \"\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.close\n\t    },\n\t    slot: \"actions\"\n\t  })], 1)], 1)]), _vm._v(\" \"), (_vm.success) ? _c('div', {\n\t    staticClass: \"loading\"\n\t  }, [_c('mu-circular-progress', {\n\t    attrs: {\n\t      \"size\": 40\n\t    }\n\t  })], 1) : _vm._e(), _vm._v(\" \"), (_vm.toast) ? _c('mu-snackbar', {\n\t    attrs: {\n\t      \"message\": _vm.successTxt\n\t    }\n\t  }) : _vm._e()], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 61:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(17);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _webpackZepto = __webpack_require__(1);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tname: 'login',\n\t\tcomponents: {},\n\t\tfilters: {},\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\taccesstoken: \"\",\n\t\t\t\tdialog: false,\n\t\t\t\talert: \"\",\n\t\t\t\terrorText: \"\",\n\t\t\t\tdisabled: true,\n\t\t\t\tsuccess: false,\n\t\t\t\tsuccessTxt: '',\n\t\t\t\ttoast: false\n\t\t\t};\n\t\t},\n\t\tmounted: function mounted() {},\n\t\n\t\tmethods: {\n\t\t\tlogin: function login() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tthis.success = true;\n\t\n\t\t\t\t_webpackZepto2.default.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: \"https://cnodejs.org/api/v1/accesstoken\",\n\t\t\t\t\tdata: { accesstoken: this.accesstoken },\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t\tvar user = {\n\t\t\t\t\t\t\tloginname: res.loginname,\n\t\t\t\t\t\t\tavatar_url: res.avatar_url,\n\t\t\t\t\t\t\tuserId: res.id,\n\t\t\t\t\t\t\ttoken: _this.accesstoken\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar info = 0;\n\t\n\t\t\t\t\t\t_webpackZepto2.default.get('https://cnodejs.org/api/v1/messages?accesstoken=' + _this.accesstoken, function (d) {\n\t\t\t\t\t\t\tif (d && d.data) {\n\t\t\t\t\t\t\t\tinfo = d.data.hasnot_read_messages.length;\n\t\t\t\t\t\t\t\t_this.success = false;\n\t\t\t\t\t\t\t\t_this.toast = true;\n\t\t\t\t\t\t\t\t_this.successTxt = \"登陆成功，即将跳转\";\n\t\t\t\t\t\t\t\tif (_this.toastTimer) clearTimeout(_this.toastTimer);\n\t\t\t\t\t\t\t\t_this.toastTimer = setTimeout(function () {\n\t\t\t\t\t\t\t\t\t_this.toast = false;\n\t\t\t\t\t\t\t\t\twindow.window.sessionStorage.user = (0, _stringify2.default)(user);\n\t\t\t\t\t\t\t\t\twindow.window.sessionStorage.info = info;\n\t\n\t\t\t\t\t\t\t\t\t_this.$store.dispatch('setUserInfo', user);\n\t\t\t\t\t\t\t\t\t_this.$store.dispatch('setNotiNum', info);\n\t\n\t\t\t\t\t\t\t\t\tvar redirect = decodeURIComponent(_this.$route.query.redirect || '/');\n\t\t\t\t\t\t\t\t\t_this.$router.push({\n\t\t\t\t\t\t\t\t\t\tpath: redirect\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\terror: function error(res) {\n\t\t\t\t\t\tvar error = JSON.parse(res.responseText);\n\t\t\t\t\t\t_this.alert = error.error_msg;\n\t\t\t\t\t\t_this.dialog = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tclose: function close() {\n\t\t\t\tthis.dialog = false;\n\t\t\t},\n\t\t\tsetErrorText: function setErrorText() {\n\t\t\t\tif (this.accesstoken.length == 36) {\n\t\t\t\t\tthis.errorText = \"\";\n\t\t\t\t\tthis.disabled = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.errorText = \"Access Token应为36位的字符串！\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\twatch: {}\n\t};\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.abe77283d03e5b3be31e.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-fbedb98e&scoped=true!vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./login.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-fbedb98e!vue-loader/lib/selector?type=template&index=0!./login.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\nif(typeof __vue_options__.name === \"undefined\") {\n  __vue_options__.name = \"login\"\n}__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-fbedb98e\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = 14\n// module chunks = 2","exports = module.exports = require(\"./../../node_modules/.0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".content[data-v-fbedb98e]{padding:180px 10px 20px}.login .loading[data-v-fbedb98e]{width:100vw;height:100vh;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;background:rgba(0,0,0,.2)}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/login.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,uBAAwB,CACxB,AACD,iCACC,YAAa,AACb,aAAc,AACZ,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,yBAA0B,CAC5B\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.content[data-v-fbedb98e]{\\n\\tpadding:180px 10px 20px;\\n}\\n.login .loading[data-v-fbedb98e]{\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n  \\tdisplay: -ms-flexbox;\\n  \\tdisplay: flex;\\n  \\t-ms-flex-pack: center;\\n  \\t    justify-content: center;\\n  \\t-ms-flex-align: center;\\n  \\t    align-items: center;\\n  \\tposition: absolute;\\n  \\ttop: 0;\\n  \\tleft: 0;\\n  \\tbackground: rgba(0,0,0,.2)\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.25.0@css-loader?sourceMap!./~/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./~/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login.vue\n// module id = 27\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.0.25.0@css-loader/index.js?sourceMap!./../../node_modules/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./../../node_modules/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.25.0@css-loader?sourceMap!./~/.10.0.3@vue-loader/lib/style-rewriter.js?id=data-v-fbedb98e&scoped=true!./~/.10.0.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login.vue\n// module id = 38\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login\"\n  }, [_c('mu-appbar', {\n    attrs: {\n      \"title\": \"登陆\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"content\"\n  }, [_c('div', {\n    staticClass: \"model\"\n  }, [_c('mu-text-field', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.accesstoken),\n      expression: \"accesstoken\"\n    }],\n    attrs: {\n      \"label\": \"Access Token\",\n      \"errorText\": _vm.errorText,\n      \"fullWidth\": \"\",\n      \"labelFloat\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.accesstoken)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.accesstoken = $event\n      }, _vm.setErrorText]\n    }\n  }), _vm._v(\" \"), _c('mu-raised-button', {\n    attrs: {\n      \"label\": \"确认\",\n      \"disabled\": _vm.disabled,\n      \"fullWidth\": \"\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }), _vm._v(\" \"), _c('mu-dialog', {\n    attrs: {\n      \"open\": _vm.dialog,\n      \"title\": \"提示\"\n    }\n  }, [_vm._v(\"\\n\\t\\t\\t\\t    \" + _vm._s(_vm.alert) + \"\\n\\t\\t\\t\\t    \"), _c('mu-flat-button', {\n    attrs: {\n      \"label\": \"确定\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.close\n    },\n    slot: \"actions\"\n  })], 1)], 1)]), _vm._v(\" \"), (_vm.success) ? _c('div', {\n    staticClass: \"loading\"\n  }, [_c('mu-circular-progress', {\n    attrs: {\n      \"size\": 40\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), (_vm.toast) ? _c('mu-snackbar', {\n    attrs: {\n      \"message\": _vm.successTxt\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.0.3@vue-loader/lib/template-compiler.js?id=data-v-fbedb98e!./~/.10.0.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = 49\n// module chunks = 2","<template>\r\n  \t<div class=\"login\">\r\n\t\t<mu-appbar title=\"登陆\" >\r\n\t    </mu-appbar>\r\n\t    <div class=\"content\">\r\n\t    \t<div class=\"model\">\r\n\t\t    \t<mu-text-field label=\"Access Token\" v-model=\"accesstoken\" :errorText=\"errorText\" @input=\"setErrorText\" fullWidth labelFloat/>\r\n\t\t    \t<mu-raised-button label=\"确认\" @click=\"login\" :disabled=\"disabled\" fullWidth primary/>\r\n\t\t    \t<mu-dialog :open=\"dialog\" title=\"提示\">\r\n\t\t\t\t    {{alert}}\r\n\t\t\t\t    <mu-flat-button label=\"确定\" slot=\"actions\" primary @click=\"close\"/>\r\n\t\t\t\t</mu-dialog>\r\n\t    \t</div>\r\n\t    </div>\r\n\t\t\t<div v-if=\"success\" class=\"loading\"><mu-circular-progress :size=\"40\"/></div>\r\n\t\t\t<mu-snackbar v-if=\"toast\" :message=\"successTxt\"/>\r\n  \t</div>\r\n</template>\r\n\r\n<script>\r\n\timport $ from 'webpack-zepto';\r\n  \texport default {\r\n    \tname: 'login',\r\n    \tcomponents: {\r\n    \t},\r\n    \tfilters :{\r\n    \t\t\r\n    \t},\r\n    \tdata () {\r\n\t      \treturn {\r\n\t      \t\taccesstoken:\"\",\r\n\t      \t\tdialog: false,\r\n\t      \t\talert:\"\",\r\n\t      \t\terrorText:\"\",\r\n\t      \t\tdisabled:true,\r\n\t      \t\tsuccess:false,\r\n\t      \t\tsuccessTxt:'',\r\n        \t\ttoast: false\r\n\t      \t}\r\n    \t},\r\n\t    mounted () {\r\n\t      \t\r\n\t    },\r\n\t    methods:{\r\n\t    \tlogin(){\r\n\t    \t\tthis.success=true;\r\n\t    \t\t//get user information\r\n\t    \t\t$.ajax({\r\n\t    \t\t\ttype:\"POST\",\r\n\t    \t\t\turl:\"https://cnodejs.org/api/v1/accesstoken\",\r\n\t    \t\t\tdata:{accesstoken:this.accesstoken},\r\n\t    \t\t\tdataType: 'json',\r\n\t    \t\t\tsuccess:(res)=>{\r\n\t    \t\t\t\tlet user={\r\n\t    \t\t\t\t\tloginname: res.loginname,\r\n                            avatar_url: res.avatar_url,\r\n                            userId: res.id,\r\n                            token: this.accesstoken\r\n\t    \t\t\t\t};\r\n\t\t                let info=0;\r\n\t\t                //get notifictions number\r\n\t\t                $.get('https://cnodejs.org/api/v1/messages?accesstoken=' + this.accesstoken, (d) => {\r\n\t\t\t                if (d && d.data) {\r\n\t\t\t                    info=d.data.hasnot_read_messages.length;\r\n\t\t\t                    this.success=false;\r\n\t\t\t    \t\t\t\tthis.toast = true;\r\n\t\t\t\t                this.successTxt=\"登陆成功，即将跳转\";\r\n\t\t\t\t                if (this.toastTimer) clearTimeout(this.toastTimer);\r\n\t\t\t\t                this.toastTimer = setTimeout(() => { \r\n\t\t\t\t\t                this.toast = false;\r\n\t\t\t\t\t                window.window.sessionStorage.user = JSON.stringify(user);\r\n\t\t\t\t\t                window.window.sessionStorage.info = info;\r\n\t\t\t\t    \t\t\t\t//vuex管理状态\r\n\t\t\t\t    \t\t\t\tthis.$store.dispatch('setUserInfo',user);\r\n\t\t\t\t    \t\t\t\tthis.$store.dispatch('setNotiNum',info);\r\n\t\t\t\t    \t\t\t\t//重定向\r\n\t\t\t\t    \t\t\t\tlet redirect = decodeURIComponent(this.$route.query.redirect || '/');\r\n\t\t\t                        this.$router.push({\r\n\t\t\t                            path: redirect\r\n\t\t\t                        });\r\n\t\t\t\t                }, 2000)\r\n\t\t\t                }\r\n\t\t\t            });\r\n\t    \t\t\t},\r\n\t    \t\t\terror:(res)=>{\r\n\t    \t\t\t\tlet error=JSON.parse(res.responseText);\r\n\t    \t\t\t\tthis.alert=error.error_msg;\r\n\t    \t\t\t\tthis.dialog = true;\r\n\t    \t\t\t}\r\n\t        \t})\r\n\t    \t},\r\n\t    \tclose(){\r\n\t    \t\tthis.dialog = false;\r\n\t    \t},\r\n\t    \tsetErrorText(){\r\n\t    \t\tif(this.accesstoken.length==36){\r\n\t    \t\t\tthis.errorText=\"\";\r\n\t    \t\t\tthis.disabled=false;\r\n\t    \t\t}else{\r\n\t    \t\t\tthis.errorText=\"Access Token应为36位的字符串！\"\r\n\t    \t\t}\r\n\t    \t}\r\n\t    },\r\n\t    watch:{\r\n\t    \t\r\n\t    }\r\n  \t}\r\n</script>\r\n\r\n<style scoped lang=\"\">\r\n\t.content{\r\n\t\tpadding:180px 10px 20px;\r\n\t}\r\n\t.login .loading{\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tdisplay: -webkit-flex;\r\n\t  \tdisplay: flex;\r\n\t  \tjustify-content: center;\r\n\t  \talign-items: center;\r\n\t  \tposition: absolute;\r\n\t  \ttop: 0;\r\n\t  \tleft: 0;\r\n\t  \tbackground: rgba(0,0,0,.2)\r\n\t}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// login.vue?4ac6be81"],"sourceRoot":""}