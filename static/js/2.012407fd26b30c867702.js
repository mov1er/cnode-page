webpackJsonp([2,4],{10:function(t,e,s){var o,a;s(25),o=s(43);var n=s(33);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),"undefined"==typeof a.name&&(a.name="add"),a.render=n.render,a.staticRenderFns=n.staticRenderFns,a._scopeId="data-v-62795e71",t.exports=o},20:function(t,e,s){e=t.exports=s(2)(),e.push([t.id,".content[data-v-62795e71]{padding:60px 10px 0}","",{version:3,sources:["/./src/views/add.vue"],names:[],mappings:"AACA,0BACC,mBAAqB,CACrB",file:"add.vue",sourcesContent:["\n.content[data-v-62795e71]{\n\tpadding: 60px 10px 0;\n}\n"],sourceRoot:"webpack://"}])},25:function(t,e,s){var o=s(20);"string"==typeof o&&(o=[[t.id,o,""]]);s(3)(o,{});o.locals&&(t.exports=o.locals)},33:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add"},[s("mhead",{attrs:{theme:"主题"}}),t._v(" "),s("div",{staticClass:"content"},[s("mu-select-field",{directives:[{name:"model",rawName:"v-model",value:t.tab,expression:"tab"}],attrs:{label:"选择分类",labelFloat:"",fullWidth:""},domProps:{value:t.tab},on:{input:[function(e){t.tab=e},t.setErrorText]}},[s("mu-menu-item",{attrs:{value:"share",title:"分享"}}),t._v(" "),s("mu-menu-item",{attrs:{value:"ask",title:"问答"}}),t._v(" "),s("mu-menu-item",{attrs:{value:"job",title:"招聘"}})],1),t._v(" "),s("mu-text-field",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{label:"标题，字数10字以上",errorText:t.errorTxt,labelFloat:"",fullWidth:""},domProps:{value:t.title},on:{input:[function(e){t.title=e},function(e){t.setErrorText(1)}]}}),t._v(" "),s("mu-text-field",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{label:"回复支持Markdown语法,请注意标记代码",multiLine:"",rows:10,rowsMax:6,maxLength:500,labelFloat:"",fullWidth:""},domProps:{value:t.content},on:{input:[function(e){t.content=e},t.setErrorText]}}),t._v(" "),s("mu-raised-button",{staticClass:"demo-raised-button",attrs:{label:"确认",disabled:t.disabled,fullWidth:"",primary:""},on:{click:t.sub}})],1),t._v(" "),t.toast?s("mu-snackbar",{attrs:{message:t.successTxt}}):t._e()],1)},staticRenderFns:[]}},43:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),n=o(a);e.default={name:"add",components:{mhead:n.default},data:function(){return{tab:"",title:"",content:"",errorTxt:"",disabled:!0,accesstoken:"",successTxt:"",toast:!1}},mounted:function(){this.accesstoken=this.$store.state.userInfo.token,console.log(this.accesstoken)},methods:{sub:function(){var t=this;console.log(this.tab+"-"+this.title+"-"+this.content),$.ajax({type:"POST",url:"https://cnodejs.org/api/v1/topics",data:{accesstoken:this.accesstoken,title:this.title,tab:this.tab,content:this.content},dataType:"json",success:function(e){e.success&&(t.toast=!0,t.successTxt="回复成功，即将跳转",t.toastTimer&&clearTimeout(t.toastTimer),t.toastTimer=setTimeout(function(){t.toast=!1,t.$router.push({name:"list"})},2e3))},error:function e(s){var e=JSON.parse(s.responseText);t.toast=!0,t.successTxt=e.error_msg,t.toastTimer&&clearTimeout(t.toastTimer),t.toastTimer=setTimeout(function(){t.toast=!1,history.go(0)},2e3)}})},setErrorText:function(t){this.title.length>=10&&this.tab&&this.content&&(this.errorTxt="",this.disabled=!1),this.title.length<10&&1==t&&(this.errorTxt="标题的字数在10字以上！")}}}}});
//# sourceMappingURL=2.012407fd26b30c867702.js.map